<openerp>
    <data>

        <record id="view_account_analytic_account_form" model="ir.ui.view">
            <field name="name">account.analytic.account.form</field>
            <field name="model">account.analytic.account</field>
            <field name="inherit_id" ref="analytic.view_account_analytic_account_form"/>
            <field name="arch" type="xml">
                <page string="Contract Information" position="after">
                    <page string="Garantias do Contrato">
                        <field name="garantia_contrato_ids">
                            <tree>
                                <field name="proporcao_total"/>
                                <field name="valor_total"/>
                                <field name="vigencia_inicio"/>
                                <field name="vigencia_fim"/>
                                <field name="situacao"/>
                                <field name="entregue_em"
                                       invisible="[('situacao', '=', 'entregue')]"/>
                            </tree>
                        </field>
                    </page>
                </page>
            </field>
        </record>

        <record id="view_garantia_contrato_form" model="ir.ui.view">
            <field name="name">garantia.contrato.form</field>
            <field name="model">garantia.contrato</field>
            <field name="arch" type="xml">
                <form>
                    <group>
                        <group>
                            <field name="proporcao_total"/>
                            <field name="valor_total"/>
                        </group>
                        <group>
                            <field name="prazo_dias"/>
                            <field name="prorrogado"/>
                            <field name="prorrogado_dias"
                                   attrs="{'invisible': [('prorrogado', '=', False)]}"/>
                        </group>
                    </group>
                    <group>
                        <group>
                            <field name="situacao" widget="radio"/>
                        </group>
                        <group>
                            <field name="entregue_em"
                                   attrs="{'invisible': [('situacao', '!=', 'entregue')]}"/>
                        </group>
                    </group>
                    <group>
                        <group>
                            <field name="seguradora"/>
                            <field name="modalidade"/>
                        </group>
                        <group>
                            <field name="vigencia_inicio"/>
                            <field name="vigencia_fim"/>
                        </group>
                        <field name="nome_arquivo_garantia" invisible="1"/>
                        <field name="garantia_digital"
                               filename="nome_arquivo_garantia"
                               attrs="{'required': [('nome_arquivo_garantia', '!=', False)]}"/>
                    </group>
                </form>
            </field>
        </record>
    </data>
</openerp>